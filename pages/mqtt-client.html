<meta charset="UTF-8">
<html>
    <head>
        <title> WebSocket Example</title>
        <style></style>
             <script src="./js/mqttws31.js" type ="text/javascript">
            </script>
            <script type="text/javascript" language="javascript">
                var mqtt;
				var host="127.0.0.1";
                var port= 8081;
                var client = new Paho.MQTT.Client(host, port, "clientId");
                console.log('测试连接的')
                function onConnect(){
                    console.log("connected");
                    message = new Paho.MQTT.Message("Hello World");
                    mqtt.send(message); 
                }
                function onFailure(){
                    console.log("onFailure");
                }
                function MQTTConnect(){
                    console.log("connecting to "+host+" "+port);
                    client.connect({
                      onSuccess: onConnect,
                      onFailure: onFailure
                    });
                }
            </script>
    </head>
    <body>
        <h1>当使用html访问mqtt的服务时，需要修改mqtt服务的配置。具体见mqttServer.js</h1>
        <script>
            MQTTConnect();
        </script>
    </body>
</html>